---
title: 环境准备
tags:
  - vibe-coding
  - 安装
  - 环境配置
created: 2026-01-12
parent: "[[00 - Vibe Coding 指南首页]]"
---

# 环境准备

> [!note] 本章目标
> 准备好运行命令行AI工具所需的基础环境

## 概览

大多数通过 npm 安装的命令行工具需要 **Node.js** 环境。Claude Code 原生安装与多数在线平台/IDE 不依赖 Node.js；若只使用这些工具，可跳过本章。具体版本要求以各工具官方文档为准。

---

## Node.js 安装

### macOS

#### 方法一：Homebrew（简单）

```bash
# 安装 Homebrew（如果没有）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装 Node.js
brew install node

# 验证安装
node --version  # 确认已安装（建议使用 LTS）
npm --version
```

#### 方法二：nvm（推荐，可管理多版本）

```bash
# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash

# 重新打开终端后
nvm install --lts
nvm use --lts

# 验证
node --version
```

> [!tip] 推荐使用 nvm
> nvm 可以轻松切换 Node.js 版本，避免版本冲突问题
>
> [!note] 关于 Claude Code 的 Node.js 依赖
> Claude Code 原生安装不需要 Node.js；只有 deprecated 的 npm 安装才需要 Node.js 18+。

### Linux (Ubuntu/Debian)

```bash
# 使用 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash

# 关闭并重新打开终端
nvm install --lts
node --version
```

### Windows

> [!important] 推荐使用 WSL
> Windows 用户强烈建议安装 WSL (Windows Subsystem for Linux)

#### 步骤一：安装 WSL

```powershell
# 在 PowerShell（管理员模式）中运行
wsl --install
```

#### 步骤二：在 WSL 中安装 Node.js

```bash
# 进入 WSL
wsl

# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash

# 安装 Node.js
nvm install --lts
```

> [!warning] Windows 注意事项
> - 将项目放在 Linux 文件系统下（`~/`），而非 Windows 路径
> - 使用 `~/code/my-app` 而非 `/mnt/c/...`
> - 这样可获得更快的 I/O 和更少的权限问题

---

## npm 配置

### 避免权限问题

> [!danger] 不要使用 `sudo npm install -g`
> 这会导致权限问题和安全风险

**正确做法：**

```bash
# 创建全局安装目录
mkdir ~/.npm-global

# 配置 npm
npm config set prefix '~/.npm-global'

# 添加到 PATH（添加到 ~/.bashrc 或 ~/.zshrc）
export PATH=~/.npm-global/bin:$PATH

# 重新加载配置
source ~/.bashrc  # 或 source ~/.zshrc
```

### 常用 npm 命令

```bash
# 全局安装包
npm install -g <package-name>

# 查看全局安装的包
npm list -g --depth=0

# 更新全局包
npm update -g <package-name>

# 卸载全局包
npm uninstall -g <package-name>
```

---

## 终端基础

### macOS/Linux 常用命令

| 命令 | 功能 | 示例 |
|:---|:---|:---|
| `cd` | 切换目录 | `cd ~/projects` |
| `ls` | 列出文件 | `ls -la` |
| `pwd` | 显示当前目录 | `pwd` |
| `mkdir` | 创建目录 | `mkdir my-project` |
| `cat` | 查看文件内容 | `cat package.json` |

### 环境变量设置

```bash
# 临时设置（当前会话有效）
export MY_API_KEY="sk-xxx"

# 永久设置（添加到 ~/.bashrc 或 ~/.zshrc）
echo 'export MY_API_KEY="sk-xxx"' >> ~/.zshrc
source ~/.zshrc

# 查看环境变量
echo $MY_API_KEY
```

---

## 验证环境

运行以下命令确认环境正确：

```bash
# Node.js 版本（建议 LTS；以工具要求为准）
node --version

# npm 版本
npm --version

# 测试 npm 全局安装
npm install -g cowsay
cowsay "环境配置成功!"
```

> [!success] 预期输出
> ```
>  ____________________
> < 环境配置成功! >
>  --------------------
>         \   ^__^
>          \  (oo)\_______
>             (__)\       )\/\
>                 ||----w |
>                 ||     ||
> ```

---

## 常见问题

> [!question] Q: `command not found: node`
> **A:** Node.js 未正确安装或未添加到 PATH。尝试重新打开终端，或检查 nvm 是否正确配置。

> [!question] Q: npm 安装报权限错误
> **A:** 参考上方"避免权限问题"部分，配置 npm 全局目录。

> [!question] Q: Windows 下工具运行异常
> **A:** 确保使用 WSL 而非原生 Windows。在 WSL 中重新安装工具。

## 参考资料

- [Node.js 下载](https://nodejs.org/en/download)
- [nvm 安装与更新](https://github.com/nvm-sh/nvm#install--update-script)
- [npm 全局安装权限问题（EACCES）](https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally)
- [Set up Claude Code](https://code.claude.com/docs/en/setup)
- [安装 WSL](https://learn.microsoft.com/windows/wsl/install)
- [WSL 文件系统与性能建议](https://learn.microsoft.com/windows/wsl/filesystems)

---

## 下一步

环境准备完成后，选择你要安装的工具：

- [[05 - Claude Code 安装配置]] - Anthropic 官方CLI
- [[06 - Codex CLI 安装配置]] - OpenAI 官方CLI
- [[09 - 在线平台入门]] - 如果你想跳过命令行工具

---

**上一章**：← [[03 - 工具全景图]]
**下一章**：[[05 - Claude Code 安装配置]] →
